<!DOCTYPE html>
<html lang="en-US">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>
    
      è®¡ç®—å‡ ä½• &middot; Soki's Blog
    
  </title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="/assets/bootstrap-3.3.7-dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
  <!-- My CSS -->
  <link rel="stylesheet" href="/assets/main.css">

  <!-- MathJax -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {
        equationNumbers: {
          autoNumber: "AMS"
        }
      },
      tex2jax: {
        inlineMath: [ ['$','$'] ],
        displayMath: [ ['$$','$$'] ],
        processEscapes: true,
      }
    });
  </script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  

  <!-- code highlighting-->
  <link rel="stylesheet" href="/lib/highlight/styles/hybrid.css">
  <script src="/lib/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.configure({ ignore: ['text'] });</script>
  
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>
    <header class="header">
  <!-- Navigation -->
  <nav class="navbar navbar-default .navbar-static-top">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/" style="color:#333">Soki's Blog</a>
        <p class="navbar-text">God does not play dice.</p>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <li class="nav-search">
            <form class="navbar-form navbar-left" role="search" id="search-form">
              <div class="input-group">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="button" style="color:#777">Go!</button>
                  </span>
                  <input type="text" id="search-input" class="form-control" placeholder="Search">
                  
              </div>
            </form>
          </li>
          <li>
            <a href="/archives.html">Archives</a>
          </li>
          <li>
            <a href="/categories.html">Categories</a>
          </li>
          <li>
            <a href="/tags.html">Tags</a>
          </li>
          <li>
            <a href="/about.html">About</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

  
    <div class="container">
  <div class="row-fluid main">
    <div class="content col-md-9">
      <article class="post">
        <h1 class="post-title">è®¡ç®—å‡ ä½•</h1>

        <div class="post-info">
          <span class="post-date">27 Apr 2017</span>
           | 
            <span class="fa fa-folder-open" aria-hidden="true">
            
              <a class="categories" href="/categories.html#Algorithm">Algorithm</a>
            
            </span>
          
          
        </div>

        <hr>
        <h2 id="ç‚¹å’Œçº¿">ç‚¹å’Œçº¿</h2>
<h3 id="åŸºç¡€">åŸºç¡€</h3>
<p>å‘é‡  $\vec{a} = (x_1, y_1), \vec{b} = (x_2, y_2)$.</p>

<p>(1) <strong>ç‚¹ç§¯</strong>:  <script type="math/tex">\vec{a}\cdot \vec{b} = x_1x_2 + y_1y_2 = \vert a \vert \vert b \vert cos\theta</script></p>

<p>(2) <strong>å‰ç§¯</strong> (cross product):</p>

<p><img src="http://wp.lszero.com/wp-content/uploads/2017/04/Screen-Shot-2017-04-27-at-11.20.09-AM.png" style="zoom:50%; float:right" /></p>

<p><script type="math/tex">% <![CDATA[
\vert \vec{a}\times \vec{b} \vert = det\begin{bmatrix}x_1 & x_2 \\y_1 & y_2 \end{bmatrix}= x_1y_2 - x_2y_1 = \vert a \vert \vert b \vert sin\theta %]]></script>.</p>

<p>$\vec{a}\times \vec{b} =  - \vec{b}\times \vec{a}$</p>

<p>çœ‹ä½œç”±ç‚¹(0, 0), $\vec{a}$, $\vec{b}$ å’Œ $\vec{a}+\vec{b}=(x_1+x_2, y_1+y_2)$æ‰€å½¢æˆçš„å¹³è¡Œå››è¾¹å½¢çš„æœ‰å‘é¢ç§¯.</p>

<p><strong>å³æ‰‹</strong>å®šåˆ™åˆ¤æ–­æ–¹å‘.</p>

<p>(3) å‘é‡ $\vec{a}, \vec{b}$ <strong>å…±çº¿</strong>:  $\vec{a}\times \vec{b} = x_1y_2 - x_2y_1 = 0$</p>

<p>å‘é‡ $\vec{a}, \vec{b}$ <strong>å‚ç›´</strong>:  $\vec{a}\cdot \vec{b} = x_1x_2 + y_1y_2 = 0$</p>

<p>(4) ç‚¹ $P_1 = (x_1, y_1), P2 = (x_2, y_2)$, åˆ™ $\overrightarrow{P_1P_2} = (x_2-x_1, y_2-y_1)$.</p>

<p>(5) åˆ¤æ–­ä¸‰ç‚¹å…±çº¿: <code class="highlighter-rouge">å‰ä¹˜==0</code>.</p>

<p>(6) åˆ¤æ–­ç‚¹Påœ¨çº¿æ®µ$P_1P_2$ä¸Š:</p>

<p><code class="highlighter-rouge">å‰ä¹˜==0 &amp;&amp; (P1.x-P.x)*(P2.x-P.x)&lt;0 &amp;&amp; (P1.y-P.y)*(P2.y-P.y)&lt;0</code></p>

<p>(7) åˆ¤æ–­ä¸¤ç›´çº¿å¹³è¡Œ: <code class="highlighter-rouge">å‰ä¹˜==0</code>.</p>

<!-- more -->

<h3 id="ç‚¹ç›¸å¯¹æœ‰å‘çº¿æ®µçš„æ–¹å‘">ç‚¹ç›¸å¯¹æœ‰å‘çº¿æ®µçš„æ–¹å‘</h3>

<p>(1) åˆ¤æ–­ç‚¹P2ç›¸å¯¹äºæœ‰å‘çº¿æ®µ$\overrightarrow{P_0P_1}$ çš„æ–¹å‘:</p>

<p>é€šè¿‡è®¡ç®—$\overrightarrow{P_0P_1}\times \overrightarrow{P_0P_2}$çš„ç»“æœä¸ºæ­£è¿˜æ˜¯ä¸ºè´Ÿ.</p>

<p>(2) åœ¨P1å¤„ï¼Œä¸¤æ¡è¿ç»­çš„æœ‰å‘çº¿æ®µ$\overrightarrow{P_0P_1}$ å’Œ$\overrightarrow{P_1P_2}$ æ˜¯å‘å·¦è½¬è¿˜æ˜¯å‘å³è½¬: åŒä¸Šè¿°é—®é¢˜(1).</p>

<p><img src="http://wp.lszero.com/wp-content/uploads/2017/04/Screen-Shot-2017-04-27-at-12.27.01-PM.png" style="zoom:50%" /></p>

<p>(3) åˆ¤æ–­ä¸¤æ¡çº¿æ®µç›¸äº¤:
ç‚¹P1å’Œç‚¹P2åˆ†åˆ«åœ¨$\overrightarrow{P_3P_4}$çš„ä¸¤ä¸ªä¸åŒæ–¹å‘ <strong>&amp;&amp;</strong> ç‚¹P3å’Œç‚¹P4åˆ†åˆ«åœ¨$\overrightarrow{P_1P_2}$çš„ä¸¤ä¸ªä¸åŒæ–¹å‘.
ç‰¹æ®Šæƒ…å†µ: ä»…æœ‰ä¸€ä¸ªç«¯ç‚¹åœ¨å¦ä¸€æ¡çº¿æ®µä¸Š.</p>

<p><img src="http://wp.lszero.com/wp-content/uploads/2017/04/Screen-Shot-2017-04-27-at-12.53.42-PM.png" style="zoom:25%" /></p>

<p>(4) åˆ¤æ–­çº¿æ®µä¸ç›´çº¿ç›¸äº¤: åŒç†.</p>

<h3 id="å¸¸ç”¨ä»£ç æ¨¡æ¿">å¸¸ç”¨ä»£ç æ¨¡æ¿</h3>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// è®¡ç®— å‘é‡p0p1 å‰ä¹˜ å‘é‡p0p2
</span><span class="kt">double</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">Point</span> <span class="n">p0</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// åˆ¤æ–­ä¸‰ç‚¹å…±çº¿
</span><span class="kt">bool</span> <span class="n">collinear</span><span class="p">(</span><span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p3</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">rst</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">fabs</span><span class="p">(</span><span class="n">rst</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// åˆ¤æ–­ç‚¹pæ˜¯å¦åœ¨çº¿æ®µp1p2ä¸Š(åŒ…æ‹¬ç«¯ç‚¹)
</span><span class="kt">bool</span> <span class="n">dot_online</span><span class="p">(</span><span class="n">Point</span> <span class="n">p</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">fabs</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// åˆ¤æ–­ä¸¤æ¡çº¿æ®µç›¸äº¤(åŒ…æ‹¬ä»…æœ‰ä¸€ä¸ªç«¯ç‚¹åœ¨å¦ä¸€æ¡çº¿æ®µä¸Šçš„æƒ…å†µ)
</span><span class="kt">bool</span> <span class="n">intersection</span><span class="p">(</span><span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p3</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p4</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">d1</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">,</span> <span class="n">p1</span><span class="p">);</span> <span class="c1">// p1ç›¸å¯¹äºp3p4
</span>    <span class="kt">double</span> <span class="n">d2</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">,</span> <span class="n">p2</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">d3</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">d4</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p4</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">d1</span><span class="o">*</span><span class="n">d2</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">d3</span><span class="o">*</span><span class="n">d4</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span> <span class="o">&amp;&amp;</span> <span class="n">dot_online</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span> <span class="o">&amp;&amp;</span> <span class="n">dot_online</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">d3</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span> <span class="o">&amp;&amp;</span> <span class="n">dot_online</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">d4</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span> <span class="o">&amp;&amp;</span> <span class="n">dot_online</span><span class="p">(</span><span class="n">p4</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="å‡¸åŒ…-convex-hull">å‡¸åŒ… Convex Hull</h2>

<h3 id="grahamæ‰«ææ³•æ±‚å‡¸åŒ…">Grahamæ‰«ææ³•æ±‚å‡¸åŒ…</h3>

<p><strong>æ—¶é—´å¤æ‚åº¦: O(nlogn)</strong> (ä¸»è¦æ˜¯æ’åº)
ç©ºé—´å¤æ‚åº¦: stack.</p>

<hr />

<p>è¿‡ç¨‹: (poj 1113 Wall)
<img src="https://upload.wikimedia.org/wikipedia/commons/7/71/GrahamScanDemo.gif" style="zoom:50%; float:right" /></p>

<p>(1) ç¡®å®šåæ ‡åŸç‚¹ v[0]: é€‰ yå€¼ æœ€å°çš„ç‚¹.</p>

<p>(2) å°†å‰©ä½™ç‚¹æŒ‰ <strong>æè§’</strong> æ’åº, å¯¹æè§’ç›¸åŒçš„ç‚¹æŒ‰æ®v[0]çš„è¿œè¿‘æ’åº.
æŒ‰ <strong>æè§’</strong> æ’åº, å³æŒ‰ <strong>å‰ä¹˜</strong>çš„å€¼ æ’åº: 
è‹¥ v[0]v[j] Ã— v[0]v[i] &gt; 0, å³æ„å‘³ç€ ç‚¹v[j]åœ¨v[0]v[i]çš„é¡ºæ—¶é’ˆæ–¹å‘. åœ¨ cmpå‡½æ•°ä¸­, å› ä¸ºè¿”å›å€¼ä¸ºæ­£, ä¹Ÿå°±æŠŠ v[i]æ’åœ¨ v[j]ä¹‹å‰.</p>

<p>(3) v[0], v[1] å…¥æ ˆ.</p>

<p>(4) ä¾æ¬¡æ‰«æä¹‹åé‡åˆ°çš„æ¯ä¸ªç‚¹ v[i]:
â€‹	è‹¥stack.size()&gt;=2, æ£€æŸ¥ v[i] ç›¸å¯¹äºæ ˆé¡¶ä¸¤ä¸ªç‚¹æ„æˆçš„æœ‰å‘çº¿æ®µçš„æ–¹å‘.</p>

<p>(5) æ ˆä¸­å…ƒç´ å³æ±‚å‡ºçš„å‡¸åŒ…é¡¶ç‚¹.</p>

<hr />

<p>ä»£ç :</p>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>

<span class="c1">// è®¡ç®— å‘é‡p0p1 å‰ä¹˜ å‘é‡p0p2
</span><span class="kt">double</span> <span class="n">xmulti</span><span class="p">(</span><span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p0</span><span class="p">,</span> <span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p0</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">double</span> <span class="n">dis</span><span class="p">(</span><span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">p2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">p2</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">cmp</span><span class="p">(</span><span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">p2</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-8</span><span class="p">)</span> <span class="k">return</span> <span class="n">dis</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">dis</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p2</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">Graham</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">){</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">stk</span><span class="p">;</span>
    <span class="n">stk</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="n">stk</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">while</span><span class="p">(</span><span class="n">stk</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">xmulti</span><span class="p">(</span><span class="n">stk</span><span class="p">[</span><span class="n">stk</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">stk</span><span class="p">[</span><span class="n">stk</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
            <span class="n">stk</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">stk</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span> 
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">stk</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="c1">// cin...
</span>    <span class="kt">double</span> <span class="n">min</span> <span class="o">=</span> <span class="mf">1e9</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">min</span><span class="p">)</span> <span class="n">min</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">swap</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="n">pos</span><span class="p">]);</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">cmp</span><span class="p">);</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">rst</span> <span class="o">=</span> <span class="n">Graham</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="å‡¸åŒ…é¢ç§¯">å‡¸åŒ…é¢ç§¯</h3>

<p>(1) ä¸‰è§’å½¢é¢ç§¯</p>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// è®¡ç®—ä¸‰è§’å½¢é¢ç§¯, è¾“å…¥ä¸‰é¡¶ç‚¹
</span><span class="kt">double</span> <span class="n">area_triangle</span><span class="p">(</span><span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p3</span><span class="p">){</span>
    <span class="k">return</span> <span class="n">fabs</span><span class="p">(</span><span class="n">xmult</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre>
</div>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// è®¡ç®—ä¸‰è§’å½¢é¢ç§¯, è¾“å…¥ä¸‰è¾¹é•¿
</span><span class="kt">double</span> <span class="n">area_triangle</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">,</span> <span class="kt">double</span> <span class="n">c</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">s</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="n">c</span><span class="p">));</span>
<span class="p">}</span>
</code></pre>
</div>

<p>(2) å‡¸åŒ…é¢ç§¯ (poj 3348 Cows)</p>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">// è®¡ç®—å¤šè¾¹å½¢é¢ç§¯, é¡¶ç‚¹æŒ‰é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆç»™å‡º
</span><span class="kt">double</span> <span class="n">area_polygon</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;&amp;</span> <span class="n">v</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">rst</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">rst</span> <span class="o">+=</span> <span class="n">area_triangle</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">rst</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="æœ€è¿‘ç‚¹å¯¹">æœ€è¿‘ç‚¹å¯¹</h2>

<pre><code class="language-text">æ±‚äºŒç»´å¹³é¢ä¸Šçš„æœ€è¿‘ç‚¹å¯¹. è¯¦è§ã€Šç¼–ç¨‹ä¹‹ç¾ã€‹-&gt; åˆ†æ²»æ€æƒ³.
</code></pre>

<p>â€‹(â€‹ğŸ˜€ ä¸æ˜¯è¯´ä¸è´´ä»£ç å°±ä¸é‡è¦â€¦â€‹ğŸ˜€ )</p>

<hr />

<p>æ‰©å±•é—®é¢˜:</p>

<pre><code class="language-text">ç»™å®šä¸€ä¸ªæ— åºæ•°ç»„, æ±‚æ’åºåç›¸é‚»ä¸¤ä¸ªå…ƒç´ çš„æœ€å¤§å·®å€¼. (leetcode 164) è§£æ³•1: åˆ†æ²»
</code></pre>

<p>è§£æ³•2: æ¡¶æ’åº</p>

<pre><code class="language-text">æ±‚äºŒç»´å¹³é¢ä¸Šçš„æœ€è¿œç‚¹å¯¹. æ€è·¯: å…ˆæ±‚å‡¸åŒ…, åæ±‚å‡¸åŒ…ç›´å¾„.
</code></pre>

<h3 id="æ±‚å‡¸åŒ…ç›´å¾„-æ—‹è½¬å¡å£³ç®—æ³•-rotating-calipers">æ±‚å‡¸åŒ…ç›´å¾„: æ—‹è½¬å¡å£³ç®—æ³• (Rotating Calipers)</h3>

<p><img src="http://lszero.com/wp-content/uploads/2017/04/2011040318073013.gif" style="zoom:50%; float:right" /></p>

<p>ç”¨ä¸¤æ¡å¹³è¡Œçº¿å»å¡ä½å‡¸åŒ…, è¢«å¡ä½çš„ä¸¤ä¸ªé¡¶ç‚¹ç§°ä¸º<a href="http://blog.csdn.net/acmaker/article/details/3561145"><strong>å¯¹è¸µç‚¹å¯¹</strong></a>.</p>

<p>æœ€è¿œç‚¹å¯¹ä¸€å®šæ˜¯å¯¹è¸µç‚¹å¯¹, è€Œå¯¹è¸µç‚¹å¯¹çš„ä¸ªæ•°ä¸º O(n), è¿™å°±è¯´æ˜äº†è§£å†³é—®é¢˜çš„å¤æ‚åº¦.</p>

<p><img src="http://lszero.com/wp-content/uploads/2017/04/diam.gif" style="zoom:70%" /></p>

<p>ä¸€èˆ¬æƒ…å†µä¸‹, å¹³è¡Œçº¿æ˜¯å¡ä½ä¸¤ä¸ªé¡¶ç‚¹. ä¸ºäº†æ–¹ä¾¿å¤„ç†, é‡‡ç”¨å¡ä½ä¸€æ¡è¾¹å’Œä¸€ä¸ªé¡¶ç‚¹çš„æ–¹å¼.</p>

<p>äºæ˜¯æ€è·¯ä¸º, æšä¸¾å‡¸åŒ…ä¸Šçš„æ‰€æœ‰è¾¹, å¯¹æ¯æ¡è¾¹å†æ‰¾å‡ºè·ç¦»è¯¥è¾¹æœ€è¿œçš„é¡¶ç‚¹, è¿™æ ·çœ‹ä¼¼æ˜¯ä¸ªO(n^2)çš„ç®—æ³•, å’Œç›´æ¥æšä¸¾ä¸¤ä¸ªé¡¶ç‚¹æ²¡ä»€ä¹ˆä¼˜åŠ¿. ä½†æ˜¯æ³¨æ„åˆ°å½“æˆ‘ä»¬é€†æ—¶é’ˆæšä¸¾è¾¹å’Œç‚¹çš„æ—¶å€™, å› ä¸ºå¯¹è¸µç‚¹åˆ°å›ºå®šè¾¹çš„çš„è·ç¦»æ¯”å…¶ä»–ç‚¹åˆ°å›ºå®šè¾¹çš„è·ç¦»éƒ½è¦å¤§, è€Œä¸”æ˜¯å•è°ƒé€’å¢çš„, æ‰€æœ‰æ²¡å¿…è¦æ¯æ¬¡ä»å¤´æšä¸¾, è€Œæ˜¯æ¥ç€ä¸Šä¸€æ¬¡å¯¹è¸µç‚¹çš„ä½ç½®å¼€å§‹.
<img src="http://lszero.com/wp-content/uploads/2017/04/appve.gif" /></p>

<p>ä»£ç : (å‚è€ƒ <a href="http://www.cppblog.com/staryjy/archive/2009/11/19/101412.html">here</a>)</p>

<div class="language-c++ highlighter-rouge"><pre class="highlight"><code><span class="c1">//è®¡ç®—å‡¸åŒ…ç›´å¾„ï¼Œè¾“å…¥å‡¸åŒ…chï¼Œé¡¶ç‚¹ä¸ªæ•°ä¸ºnï¼ŒæŒ‰é€†æ—¶é’ˆæ’åˆ—ï¼Œè¾“å‡ºç›´å¾„çš„å¹³æ–¹
</span><span class="kt">int</span> <span class="nf">rotating_calipers</span><span class="p">(</span><span class="n">Point</span> <span class="o">*</span><span class="n">ch</span><span class="p">,</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">q</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">ch</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">=</span><span class="n">ch</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">p</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">p</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">while</span><span class="p">(</span><span class="n">cross</span><span class="p">(</span><span class="n">ch</span><span class="p">[</span><span class="n">p</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ch</span><span class="p">[</span><span class="n">q</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ch</span><span class="p">[</span><span class="n">p</span><span class="p">])</span><span class="o">&gt;</span><span class="n">cross</span><span class="p">(</span><span class="n">ch</span><span class="p">[</span><span class="n">p</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ch</span><span class="p">[</span><span class="n">q</span><span class="p">],</span><span class="n">ch</span><span class="p">[</span><span class="n">p</span><span class="p">]))</span>
            <span class="n">q</span><span class="o">=</span><span class="p">(</span><span class="n">q</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">n</span><span class="p">;</span>
        <span class="n">ans</span><span class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">max</span><span class="p">(</span><span class="n">dist2</span><span class="p">(</span><span class="n">ch</span><span class="p">[</span><span class="n">p</span><span class="p">],</span><span class="n">ch</span><span class="p">[</span><span class="n">q</span><span class="p">]),</span><span class="n">dist2</span><span class="p">(</span><span class="n">ch</span><span class="p">[</span><span class="n">p</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ch</span><span class="p">[</span><span class="n">q</span><span class="o">+</span><span class="mi">1</span><span class="p">])));</span>            
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre>
</div>

<p>å…¶ä¸­crosså‡½æ•°æ˜¯è®¡ç®—å‰ç§¯ï¼Œå¯ä»¥æƒ³æˆæ˜¯è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼Œå› ä¸ºå‡¸åŒ…ä¸Šè·ç¦»ä¸€æ¡è¾¹æœ€è¿œçš„ç‚¹å’Œè¿™æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹æ„æˆçš„ä¸‰è§’å½¢é¢ç§¯æ˜¯æœ€å¤§çš„ã€‚ä¹‹æ‰€ä»¥æ—¢è¦æ›´æ–°(ch[p],ch[q])åˆè¦æ›´æ–°(ch[p+1],ch[q+1])æ˜¯ä¸ºäº†å¤„ç†å‡¸åŒ…ä¸Šä¸¤æ¡è¾¹å¹³è¡Œçš„ç‰¹æ®Šæƒ…å†µã€‚</p>

<h3 id="å‡¸åŒ…æœ€è¿‘ç‚¹å¯¹">å‡¸åŒ…æœ€è¿‘ç‚¹å¯¹</h3>

<p>â€¦</p>

<h3 id="æ‰¾æœ€å°åœ†è¦†ç›–å¹³é¢æ‰€æœ‰ç‚¹">æ‰¾æœ€å°åœ†è¦†ç›–å¹³é¢æ‰€æœ‰ç‚¹</h3>

<p>â€¦</p>

<h2 id="ä¸‰è§’å‰–åˆ†"><strong>ä¸‰è§’å‰–åˆ†</strong></h2>

<p>å¾…è¡¥å……â€¦</p>

        <br><br>
      </article>

      
      <hr>
      <aside class="related">
        <h3>Related Posts</h3>
        <ul class="related-posts">
          
            <li>
              <a href="/coding4fun/multisite-setting.html">
                åˆ©ç”¨Apacheè¿›è¡Œå¤šç«™ç‚¹é…ç½®
                <small><time datetime="2017-08-08T16:30:00+08:00">08 Aug 2017</time></small>
              </a>
            </li>
          
            <li>
              <a href="/coding4fun/static-website-with-jekyll.html">
                ä»WordPressåˆ°é™æ€ç½‘ç«™
                <small><time datetime="2017-08-01T20:00:00+08:00">01 Aug 2017</time></small>
              </a>
            </li>
          
            <li>
              <a href="/algorithm/alibaba-interview-201704.html">
                é˜¿é‡Œç¬”è¯•ä¸¤é“ç¼–ç¨‹é¢˜
                <small><time datetime="2017-04-26T18:36:00+08:00">26 Apr 2017</time></small>
              </a>
            </li>
          
        </ul>
      </aside>
      

      <!-- Gitment -->
<div id="container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  id: 'é¡µé¢ ID', // å¯é€‰ã€‚é»˜è®¤ä¸º location.href
  owner: 'lszero',
  repo: 'lszero.github.io',
  oauth: {
    client_id: '5cbd280dd9b27339aee6',
    client_secret: '18164941d46a714a7577cb7d14e642936ad2ac16',
  },
})
gitment.render('container')
</script>
    </div>
    
    <div class="sidebar-content col-md-3">
      <div class="post-sidebar">
  <nav class="header-list-sidebar">
    <ul id="sideNav" class="nav headers-sidenav">
        <!-- code will be generated in TOC.js -->
    </ul>
  </nav>
</div>
    </div>
  </div>
</div>


    <footer class="footer">
  <div class="copyright">
      Copyright &copy; <time datetime="2017-08-09T22:19:33+08:00">2017</time> <a href="http://localhost:4000">lszero</a> | Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a> | Designed by <a href="http://localhost:4000">lszero</a>
  </div>
</footer>

    <a href="#top" class="back-to-top">^</a>

<!--      -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/assets/js/jquery-1.12.4.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <!-- TOC -->
    <script src="/assets/js/toc/TOC.js"></script>

    <script>$("#search-form").submit(function(event){
      var query = document.getElementById("search-input").value;
      window.open("http://google.com/search?q=" + query + "%20site:" + "lszero.github.io");
    });</script>
  </body>
</html>

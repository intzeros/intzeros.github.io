<!DOCTYPE html>
<html lang="en-US">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>
    
      ä»WordPressåˆ°é™æ€ç½‘ç«™ &middot; Soki's Blog
    
  </title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="/assets/bootstrap-3.3.7-dist/css/bootstrap.min.css">

  <link rel="stylesheet" href="/assets/main.css">
 
  <!-- MathJax -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {
        equationNumbers: {
          autoNumber: "AMS"
        }
      },
      tex2jax: {
        inlineMath: [ ['$','$'] ],
        displayMath: [ ['$$','$$'] ],
        processEscapes: true,
      }
    });
  </script>
  

  <!-- code highlighting-->
  <link rel="stylesheet" href="/lib/highlight/styles/hybrid.css">
  <script src="/lib/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.configure({ ignore: ['text'] });</script>
  
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

  <body>

    <header class="header">
  <!-- Navigation -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://localhost:4000" style="color:#333">Soki's Blog</a>
        <p class="navbar-text">God does not play dice.</p>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <li class="nav-search">
            <form class="navbar-form navbar-left" role="search">
              <div class="input-group">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="button" style="color:#777">Go!</button>
                  </span>
                  <input type="text" class="form-control" placeholder="Search">
              </div>
            </form>
          </li>
          <li>
            <a href="#">Archives</a>
          </li>
          <li>
            <a href="#">Links</a>
          </li>
          <li>
            <a href="#">About</a>
          </li>
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
  </nav>
</header>

  
    <div class="container main">
      <div class="container content">
        <main>
          <article class="post">
  <h1 class="post-title">ä»WordPressåˆ°é™æ€ç½‘ç«™</h1>
  <hr />
  <p>[TOC]</p>

<p>ä½œä¸ºä¸€ä¸ªæç®€ä¸»ä¹‰è€…ï¼Œè¶Šæ¥è¶Šå—ä¸äº†WordPressçš„è‡ƒè‚¿ã€‚ä¸»è¦è‡ªå·±å¹³æ—¶éƒ½æ˜¯ç”¨Markdownæ¥åšè®°å½•ï¼Œè€ŒWordPressæ”¯æŒçš„ä¸æ˜¯å¾ˆå¥½ï¼Œå¦å¤–æœ‰æ—¶å†™çš„mdé•¿æ–‡é€šè¿‡ä¸‰æ–¹è½¯ä»¶å¯¼å‡ºçš„htmlä¹Ÿä¸é€ æ”¾åœ¨wpçš„ä»€ä¹ˆåœ°æ–¹æ‰åˆé€‚ï¼Œç®¡ç†èµ·æ¥è¿˜ä¸å¦‚å‡ ä¸ªé™æ€é¡µé¢æ¥å¾—æ–¹ä¾¿ã€‚äºæ˜¯æœ‰äº†æŸå¤©æ¥ä¸ªå¤§æ•´é¡¿çš„æƒ³æ³•ã€‚</p>

<p>å¯¹å‰ç«¯åªåœç•™åœ¨cssçš„æˆ‘ï¼ŒèŠ±äº†æ•´ä¸‰å¤©æ—¶é—´ï¼Œä»Hexoåˆ°Jekyllå†åˆ°Bootstrapï¼Œä»¥åŠå„ç§markdown2htmlè§£æå™¨â€¦æœ€ååŸºæœ¬ç®—æ˜¯ä»å¤´å†™äº†ä¸€ä¸ªåŸºäºJekyllçš„website theme ğŸ˜¥<!-- more --></p>

<h1 id="hexo">Hexo</h1>

<p>ä¸»æµçš„é™æ€é¡µé¢ç”Ÿæˆå™¨æœ‰ä¿©ï¼Œä¸€ä¸ªJekyllï¼Œä¸€ä¸ªHexoï¼Œéƒ½æ”¯æŒMarkdownã€‚ å‰è€…ç”¨çš„æ˜¯Rubyï¼Œåè€…ä¸ºNode.jsã€‚</p>

<p>Hexoä¼šæ¯”Jekyllæ­å»ºèµ·æ¥æ›´æ–¹ä¾¿ä¸€äº›ï¼Œè€Œä¸”å„ç§é…ç½®é¡¹çš„è®¾è®¡ä¹Ÿå¾ˆä¾¿æ·ï¼Œç½‘ç«™themesè¿˜å¾ˆä¸°å¯Œï¼Œæ‰€ä»¥æˆ‘ä¸€å¼€å§‹å¼„çš„å°±æ˜¯è¿™ä¸ªã€‚</p>

<ul>
  <li><a href="https://hexo.io/zh-cn/docs/">Hexoå®˜æ–¹æ–‡æ¡£</a></li>
  <li><a href="https://github.com/iissnan/hexo-theme-next">next</a> : ä¸€æ¬¾ä¼˜é›…å¹¶ä¸”åŠŸèƒ½å¼ºå¤§çš„ä¸»é¢˜. <a href="http://theme-next.iissnan.com/getting-started.html">[doc]</a> <a href="[http://notes.iissnan.com](http://notes.iissnan.com/)">[demo]</a></li>
</ul>

<p>æ­å»ºæ–¹æ³•ä¸Šé¢è¿™ä¸¤ä¸ªé“¾æ¥å†™çš„å¾ˆè¯¦ç»†ã€‚</p>

<p>è¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹è®©Hexoæ”¯æŒLaTexçš„æ³¨æ„åœ°æ–¹ã€‚Hexoç”¨MathJaxæ—¶ä¼šæœ‰ä¸€äº›<a href="http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/#">è½¬ä¹‰é—®é¢˜</a>ï¼Œç»æˆ‘è‡ªå·±æµ‹è¯•ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ç”¨hexo-renderer-pandocæ¸²æŸ“å™¨ä»£æ›¿åŸæœ‰çš„hexo-renderer-markedã€‚è€Œç½‘ä¸Šè¯´çš„ç”¨hexo-renderer-kramedï¼Œå¯¹çŸ©é˜µçš„æƒ…å†µæ˜¾ç¤ºçš„ä¸å¥½ã€‚</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>npm uninstall hexo-renderer-marked --save
<span class="gp">$ </span>npm install hexo-renderer-kramed --save
</code></pre>
</div>

<h1 id="jekyll">Jekyll</h1>

<p>å…¶å®ç”¨Hexo/Jekyll+ç°æˆçš„ä¸»é¢˜ï¼Œå¾ˆæ–¹ä¾¿å°±èƒ½æ­å‡ºä¸€ä¸ªé™æ€ç½‘ç«™å‡ºæ¥ã€‚åªæ˜¯é™¤äº†ä»£ç é«˜äº®ã€LaTexè¿™äº›åŠŸèƒ½ä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³èƒ½åŒºåˆ†å‡ºcode blockså’Œæ™®é€šæ— éœ€highlightingçš„&lt;pre&gt;éƒ¨åˆ†ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›æ”¹åŠ¨ã€‚å› ä¸ºmarkdownè§£æçš„åŸå› ï¼ŒåŸºæœ¬æ‰€æœ‰themeså‡ºçš„æ•ˆæœéƒ½æ˜¯å°†ä¸¤è€…ç»Ÿä¸€å¤„ç†äº†ã€‚å¼ºè¿«ç—‡ï¼ˆå…¶å®å°±æ˜¯zuoï¼‰ï¼Œä¸»é¢˜æŒ‘æ¥æŒ‘å»éƒ½æ²¡æ‰¾åˆ°ä¸ªåˆå¿ƒæ„çš„ï¼Œæ¯”å¦‚nextè¿™ç§ï¼Œå¤ªå¤æ‚ï¼Œè®©æˆ‘ä¸€ä¸ªå‰ç«¯ç™½ç—´æ”¹ï¼Œå“ˆï¼Œé‚£è¿˜æ˜¯è‡ªå·±ä»å¤´å†™ä¸€ä¸ªæ¯”è¾ƒç¬¦åˆç¨‹åºå‘˜é€ è½®å­çš„ä¹ æƒ¯å§ã€‚ã€‚ã€‚ï¼ˆæ‚è„¸</p>

<p>ï¼ˆè‡³äºä¸ºå•¥ä»Hexoè½¬åˆ°äº†Jekyllï¼ŒåŸå› æœªæ˜ï¼‰</p>

<h2 id="get-started">Get Started</h2>

<p><a href="https://jekyllrb.com/docs/home/">Jekyll Doc</a> (<a href="http://jekyll.com.cn/docs/home/">ä¸­æ–‡ç‰ˆ</a>ï¼Œå†…å®¹æ¯”è¾ƒæ—§)</p>

<p>æœ¬æ¥åœ¨æœ¬åœ°ç”¨Homebrewå®‰è£…ä¸€è·¯é¡ºç•…ï¼Œä½†æ”¾åˆ°æœåŠ¡å™¨å°±å„ç§é—®é¢˜ã€‚</p>

<p>é¦–å…ˆç›´æ¥ç”¨apt-getä¸‹è½½çš„Rubyç‰ˆæœ¬æ¯”è¾ƒæ—§ã€‚</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="c"># Install Ruby &amp; RubyGems</span>
<span class="gp">$ </span>sudo apt-add-repository ppa:brightbox/ruby-ng
<span class="gp">$ </span>sudo apt-get update
<span class="gp">$ </span>sudo apt-get install ruby2.4

<span class="c"># Install Jekyll and Bundler gems</span>
<span class="gp">$ </span>sudo gem install jekyll bundler
</code></pre>
</div>
<p>ç„¶ååœ¨<code class="highlighter-rouge">gem install jekyll</code>æ—¶ä¼šæŠ¥é”™ï¼š</p>

<pre><code class="language-text">error: could not find a valid gem (&gt;= 0) in any repository
</code></pre>

<p>å‚è€ƒ<a href="https://github.com/jekyll/jekyll/issues/1409">github issues</a>ï¼ŒF*k GWFï¼Œéœ€è¦å°†https://rubygems.org/æ¢æˆå…¶ä»–å¯è®¿é—®çš„é•œåƒï¼Œå¦‚<a href="http://gems.ruby-china.org/">Ruby China é•œåƒ</a>ã€‚</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>gem sources --remove https://rubygems.org/
<span class="gp">$ </span>gem sources -a https://gems.ruby-china.org/
<span class="gp">$ </span>gem sources -l
<span class="k">***</span> CURRENT SOURCES <span class="k">***</span>
https://gems.ruby-china.org/   
<span class="c"># ç¡®ä¿åªæœ‰ gems.ruby-china.org</span>
</code></pre>
</div>

<p>é‡æ–°å°è¯• install jekyllï¼Œè¿˜æ˜¯æŠ¥é”™ï¼š</p>

<pre><code class="language-text">current directory: /var/lib/gems/2.4.0/gems/ffi-1.9.18/ext/ffi_c
/usr/bin/ruby2.4 -r ./siteconf20170801-1836-1n75umz.rb extconf.rb
mkmf.rb can't find header files for ruby at /usr/lib/ruby/include/ruby.h
</code></pre>

<p>è§£å†³æ–¹å¼ï¼š</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo apt-get install ruby2.4-dev
</code></pre>
</div>

<p>ä¹‹åå°±å¯ä»¥æ­£å¸¸å®‰è£…jekylläº†ã€‚</p>

<p>å¦å¤–ï¼Œæ ¹æ®<a href="http://gems.ruby-china.org/">Ruby China é•œåƒ</a>ï¼Œä½ å¯ä»¥ç”¨ Bundler çš„ <a href="http://bundler.io/v1.5/bundle_config.html#gem-source-mirrors">Gem æºä»£ç é•œåƒå‘½ä»¤</a>ï¼š</p>

<pre><code class="language-text">$ bundle config mirror.https://rubygems.org https://gems.ruby-china.org
</code></pre>
<p>è¿™æ ·å°±ä¸ç”¨æ”¹ä½ çš„ Gemfile ä¸­çš„ sourceäº†ã€‚</p>

<pre><code class="language-text">source "https://rubygems.org"
...
</code></pre>

<hr />

<p>ç”¨jekyllæ–°å»ºä¸€ä¸ªsite:</p>

<pre><code class="language-text">$ jekyll new myblog
$ cd myblog
$ bundle exec jekyll serve
</code></pre>

<p>æ‰“å¼€http://localhost:4000æµ‹è¯•ã€‚</p>

<p>é»˜è®¤ä½¿ç”¨çš„æ˜¯Minima theme. ç›®å‰åŸºäºjekyll 3.xçš„themesè¿˜æ¯”è¾ƒå°‘ã€‚
å› ä¸ºæˆ‘æ˜¯è‡ªå·±æ–°å»ºçš„themeï¼Œå°±ä¸ç”¨è¿™æ ·æ–¹å¼äº†ã€‚</p>

<hr />

<p>å¯åŠ¨æœåŠ¡ï¼š</p>

<pre><code class="language-text"># å¯åŠ¨æœåŠ¡
$ jekyll serve

# å¯åŠ¨æœåŠ¡(gem-based theme)
$ bundle exec jekyll serve

# è„±ç¦»ç»ˆç«¯åœ¨åå°è¿è¡Œ
# å¦‚æœä½ æƒ³å…³é—­æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨`kill -9 1234`å‘½ä»¤ï¼Œ"1234" æ˜¯è¿›ç¨‹å·ï¼ˆPIDï¼‰ã€‚
# å¦‚æœä½ æ‰¾ä¸åˆ°è¿›ç¨‹å·ï¼Œé‚£ä¹ˆå°±ç”¨`ps aux | grep jekyll`å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œç„¶åå…³é—­æœåŠ¡å™¨ã€‚
$ jekyll serve --detach

# å’Œjekyll serveç›¸åŒï¼Œä½†æ˜¯ä¼šæŸ¥çœ‹å˜æ›´å¹¶ä¸”è‡ªåŠ¨å†ç”Ÿæˆã€‚
$ jekyll serve --watch
</code></pre>

<h2 id="éƒ¨ç½²åˆ°vps">éƒ¨ç½²åˆ°VPS</h2>

<p>ç½‘ä¸Šæ¸…ä¸€è‰²éƒ½æ˜¯é€šè¿‡github pagesæ¥å‘å¸ƒçš„ç«™ç‚¹ï¼Œç„¶åé€šè¿‡ä¿®æ”¹<code class="highlighter-rouge">CNAME</code>æ–‡ä»¶æ¥è¾¾åˆ°ç»‘å®šåŸŸåçš„ç›®çš„ã€‚</p>

<p>æˆ‘è¿™é‡Œæ˜¯æ”¾åˆ°VPSä¸Šï¼Œéœ€è¦è‡ªå·±æ­å»ºweb serverç¯å¢ƒã€‚</p>

<blockquote>
  <p>Jekyll is a static site generator, not a webserver. You may generate the static files and serve with webserver like <code class="highlighter-rouge">nginx</code>, which provides such abilities.</p>
</blockquote>

<p>å‚è€ƒï¼š</p>

<ul>
  <li><a href="https://www.digitalocean.com/community/tutorials/how-to-get-started-with-jekyll-on-an-ubuntu-vps">How To Get Started with Jekyll on an Ubuntu VPS</a></li>
  <li><a href="https://thomasroest.com/2016/11/05/set-up-a-jekyll-site-on-a-vps-with-ubuntu-nginx-and-letsencrypt.html">Set up a Jekyll site on a vps with Ubuntu, Nginx and Letsencrypt</a></li>
</ul>

<p>å› ä¸ºæ˜¯é™æ€ç½‘ç«™ï¼Œæ‰€ä»¥Jekyllå…¶å®å®‰è£…åœ¨æœ¬åœ°å°±å¯ä»¥ï¼Œé™æ€é¡µé¢ä¹Ÿæ”¾åœ¨æœ¬åœ°ã€‚ç„¶åå°†Jekyllç”Ÿæˆçš„é™æ€HTMLæ–‡ä»¶ï¼ˆ<code class="highlighter-rouge">_site</code>ç›®å½•ä¸‹ï¼‰é€šè¿‡ç±»ä¼¼FTPçš„æ–¹å¼ä¸Šä¼ åˆ°VPSå°±è¡Œã€‚</p>

<p>è€Œæ˜¯ç”±ï¼Œå¹¶æ”¾åœ¨ï¼Œ</p>

<ul>
  <li><a href="http://jekyllrb.com/">Jekyll</a> for write our content</li>
  <li><a href="http://nginx.org/en/">nginx</a> to serve our content</li>
  <li><a href="http://www.capistranorb.com/">Capistrano</a> to deploy</li>
</ul>

<pre><code class="language-text">sudo gem install capistrano
</code></pre>

<p>scp</p>

<p><code class="highlighter-rouge">rsync</code>å‘½ä»¤æ˜¯ä¸€ä¸ªè¿œç¨‹æ•°æ®åŒæ­¥å·¥å…·ï¼Œå¯é€šè¿‡LAN/WANå¿«é€ŸåŒæ­¥å¤šå°ä¸»æœºé—´çš„æ–‡ä»¶ã€‚rsyncä½¿ç”¨æ‰€è°“çš„â€œrsyncç®—æ³•â€æ¥ä½¿æœ¬åœ°å’Œè¿œç¨‹ä¸¤ä¸ªä¸»æœºä¹‹é—´çš„æ–‡ä»¶è¾¾åˆ°åŒæ­¥ï¼Œè¿™ä¸ªç®—æ³•åªä¼ é€ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æ•´ä»½ä¼ é€ï¼Œå› æ­¤é€Ÿåº¦ç›¸å½“å¿«ã€‚</p>

<h2 id="create-new-theme-from-scratch">Create New Theme From Scratch</h2>

<p>ç”¨<code class="highlighter-rouge">jekyll new-theme</code>å‘½ä»¤ï¼Œå°±å¯ä»¥åˆ›å»ºå‡ºä¸€ä¸ªthemeéœ€è¦çš„åŸºæœ¬ç›®å½•é¡¹ã€‚</p>

<pre><code class="language-text">jekyll new-theme jekyll-theme-awesome
</code></pre>

<h3 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h3>

<pre><code class="language-text">.
â”œâ”€â”€ _config.yml
â”œâ”€â”€ _drafts
|   â”œâ”€â”€ begin-with-the-crazy-ideas.textile
|   â””â”€â”€ on-simplicity-in-technology.markdown
â”œâ”€â”€ _includes
|   â”œâ”€â”€ footer.html
|   â””â”€â”€ header.html
â”œâ”€â”€ _layouts
|   â”œâ”€â”€ default.html
|   â”œâ”€â”€ post.html
â”œâ”€â”€ _posts
|   â”œâ”€â”€ 2007-10-29-why-every-programmer-should-play-nethack.textile
|   â””â”€â”€ 2009-04-26-barcamp-boston-4-roundup.textile
â”œâ”€â”€ _data
|   â””â”€â”€ members.yml
â”œâ”€â”€ _site
â””â”€â”€ index.html
</code></pre>

<p>è¯´æ˜ï¼š</p>

<p><code class="highlighter-rouge">_config.yml</code> æ˜¯é…ç½®æ–‡ä»¶ã€‚é»˜è®¤é…ç½®å‚è§ï¼šhttps://jekyllrb.com/docs/configuration/#default-configuration</p>

<p><code class="highlighter-rouge">_includes</code> é‡Œçš„æ–‡ä»¶ä¸ºäº†å¸ƒå±€é‡ç”¨ã€‚</p>

<p><code class="highlighter-rouge">_layouts</code> ç«™ç‚¹å¸ƒå±€æ¨¡æ¿ã€‚å¸ƒå±€å¯ä»¥åœ¨ <a href="http://jekyll.com.cn/docs/frontmatter/">YAML å¤´ä¿¡æ¯</a>ä¸­æ ¹æ®ä¸åŒæ–‡ç« è¿›è¡Œé€‰æ‹©ã€‚</p>

<p><code class="highlighter-rouge">_posts</code> å°†mdæ–‡ä»¶ä»¥<code class="highlighter-rouge">2017-08-01-welcome-to-jekyll.md</code>çš„æ ¼å¼æ”¾åˆ°è¯¥ç›®å½•ä¸­ã€‚</p>

<p><code class="highlighter-rouge">_drafts</code> ä¸­çš„mdæ–‡ä»¶ç›´æ¥ä»¥<code class="highlighter-rouge">title.md</code>å‘½åï¼Œå¹¶ä¸ä¼šå‘å¸ƒå‡ºæ¥ã€‚å½“è¿è¡Œ<code class="highlighter-rouge">jekyll serve</code>æˆ–è€…<code class="highlighter-rouge">jekyll build --drafts</code>æ—¶ï¼Œè‰ç¨¿æ–‡ç« ä¼šè¢«åŠ ä¸Šæ—¥æœŸå€¼å¹¶å‘å¸ƒå‡ºæ¥ã€‚</p>

<p><code class="highlighter-rouge">_site</code> å­˜æ”¾jekyllè½¬åŒ–å®Œæˆçš„htmlæ–‡ä»¶ã€‚æœ‰æ—¶ä¿®æ”¹æ•ˆæœä¸ç”Ÿæ•ˆï¼Œå¯ä»¥å°è¯•åˆ é™¤è¯¥ç›®å½•ã€‚</p>

<h3 id="è¯´æ˜">è¯´æ˜</h3>

<p>è‹¥åœ¨<code class="highlighter-rouge">index.html</code>çš„YAMLå¤´ä¿¡æ¯ä¸­åŠ å…¥ï¼š</p>

<pre><code class="language-text">---
layout: post
...
---
</code></pre>

<p>åˆ™åœ¨<code class="highlighter-rouge">default.html</code>ä¸­è°ƒç”¨<code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">content</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>ï¼Œå°±ä¼šæŠŠ<code class="highlighter-rouge">index.html</code>ä¸­çš„æ‰€æœ‰å†…å®¹æ”¾åˆ°æ­¤å¤„ã€‚</p>

<h3 id="bootstrap">Bootstrap</h3>

<p>ä½¿ç”¨Bootstrapå‰ç«¯æ¡†æ¶çœŸæ˜¯çœäº†å¾ˆå¤šäº‹ã€‚</p>

<p>ä¸‹è½½<a href="https://github.com/twbs/bootstrap/releases/download/v3.3.7/bootstrap-3.3.7-dist.zip">Bootstrp</a>ï¼Œæˆ‘è¿™é‡Œå°†è§£å‹åçš„æ–‡ä»¶æ”¾åˆ°äº†<code class="highlighter-rouge">assets/bootstrap-3.3.7-dist</code> ç›®å½•ä¸‹ã€‚</p>

<p>å‚è€ƒBootstrapå®˜ç½‘é‡Œç»™çš„<a href="http://getbootstrap.com/getting-started/#template">åŸºæœ¬HTMLæ¨¡æ¿</a>ï¼Œ</p>

<p>ï¼ˆ1ï¼‰å°†ä¸‹é¢è¿™è¡Œä»£ç æ”¹æˆè‡ªå·±çš„ç›¸åº”è·¯å¾„åï¼Œæ”¾åˆ°<code class="highlighter-rouge">head.html</code> çš„<code class="highlighter-rouge">&lt;head&gt;&lt;/head&gt;</code> æ ‡ç­¾ä¸­ã€‚</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- Bootstrap --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"/assets/bootstrap-3.3.7-dist/css/bootstrap.min.css"</span><span class="nt">&gt;</span>
</code></pre>
</div>

<p>ï¼ˆ2ï¼‰å°†ä¸‹ä¸¤è¡Œæ”¹æˆè‡ªå·±çš„ç›¸åº”è·¯å¾„åï¼Œæ”¾åˆ°<code class="highlighter-rouge">default.html</code> çš„<code class="highlighter-rouge">&lt;body&gt;&lt;/body&gt;</code> æ ‡ç­¾ä¸­çš„æœ€ä¸‹æ–¹ï¼Œä¸ºäº†æœ€ååŠ è½½ã€‚</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/assets/bootstrap-3.3.7-dist/js/bootstrap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
</div>

<p>è‹¥æ²¡æ•ˆæœï¼Œåˆ é™¤ <code class="highlighter-rouge">_site</code> ç›®å½•å†è¯•è¯•ï¼Œæˆ–è€…ç”¨å‘½ä»¤é‡æ–° buildã€‚</p>

<h3 id="å¯¼èˆªæ¡">å¯¼èˆªæ¡</h3>

<p>å‚è€ƒBootstrapå®˜ç½‘ç»™çš„<a href="http://getbootstrap.com/components/#navbar">ç¤ºä¾‹ä»£ç </a>ï¼Œå†™å…¥<code class="highlighter-rouge">header.html</code>æ–‡ä»¶ä¸­ã€‚</p>

<p>ç„¶ååœ¨<code class="highlighter-rouge">default.html</code>çš„<code class="highlighter-rouge">&lt;body&gt;&lt;/body&gt;</code>æ ‡ç­¾ä¸­å¼•å…¥<code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">include</span><span class="w"> </span><span class="err">header.html</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code>ã€‚</p>

<h3 id="æœç´¢æ¡†">æœç´¢æ¡†</h3>

<p>å‚è€ƒï¼š<a href="http://getbootstrap.com/components/#input-groups-buttons">Button addons</a> &amp; <a href="http://getbootstrap.com/components/#navbar-forms">Forms</a></p>

<p>å°†ä¸‹é¢ä»£ç åŠ å…¥<code class="highlighter-rouge">header.html</code>ä¸­ï¼š</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">class=</span><span class="s">"navbar-form navbar-left"</span> <span class="na">role=</span><span class="s">"search"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"input-group"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"input-group-btn"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-default"</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>Go!<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="na">placeholder=</span><span class="s">"Search"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>

<h3 id="æ–‡ç« æ‘˜è¦">æ–‡ç« æ‘˜è¦</h3>

<p>åœ¨<code class="highlighter-rouge">index.html</code> ä¸­æ˜¾ç¤ºæ–‡ç« æ‘˜è¦ã€‚å‚è§<a href="https://jekyllrb.com/docs/posts/#post-excerpts">https://jekyllrb.com/docs/posts/#post-excerpts</a>ã€‚</p>

<p>ï¼ˆ1ï¼‰è‡ªå¸¦çš„<code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">post.excerpt</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> ä¼šè‡ªåŠ¨å–ç¬¬ä¸€æ®µçš„å†…å®¹ä½œä¸ºæ‘˜è¦ã€‚</p>

<p>è‹¥æƒ³è‡ªå®šä¹‰ï¼Œ</p>

<p>ï¼ˆ2ï¼‰åœ¨<code class="highlighter-rouge">_config.yml</code> æ–‡ä»¶ä¸­æŒ‡å®šæ‘˜è¦çš„åˆ†éš”ç¬¦ï¼š</p>

<pre><code class="language-text">excerpt_separator: &lt;!-- more --&gt;
</code></pre>

<p>è¿™æ ·ä¼šè¦†ç›–è‡ªå¸¦çš„<code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">post.excerpt</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>åŠŸèƒ½ï¼Œç„¶ååœ¨æ–‡ç« å†…å®¹éœ€è¦åˆ†éš”çš„æ‘˜è¦åé¢åŠ ä¸Š<code class="highlighter-rouge">&lt;!-- more --&gt;</code>ã€‚è€Œ<code class="highlighter-rouge">&lt;!-- more --&gt;</code> æœ¬èº«ä½œä¸ºæ³¨é‡Šï¼Œä¸ä¼šå½±å“ markdown çš„æ˜¾ç¤ºã€‚</p>

<p>ï¼ˆ3ï¼‰æˆ–è€…é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ï¼š</p>

<pre><code class="language-text">{{ post.content | strip_html | truncatewords:75 }}
</code></pre>

<h3 id="åˆ†é¡µåŠŸèƒ½">åˆ†é¡µåŠŸèƒ½</h3>

<p>ç”¨äº<code class="highlighter-rouge">index.html</code> é‡Œå¯¹æ–‡ç« çš„åˆ†é¡µæ˜¾ç¤ºåŠŸèƒ½ã€‚</p>

<p>ï¼ˆ1ï¼‰é¦–å…ˆå®‰è£…<code class="highlighter-rouge">jekyll-paginate</code>ï¼š</p>

<pre><code class="language-text">$ sudo gem install jekyll-paginate
</code></pre>

<p>åœ¨é…ç½®æ–‡ä»¶<code class="highlighter-rouge">_config.yml</code>ä¸­æ·»åŠ ï¼š</p>

<pre><code class="language-text">plugins:
  - jekyll-paginate
paginate: 5
paginate_path: "/pages:num/"
</code></pre>

<p>å…¶ä¸­ï¼Œ<code class="highlighter-rouge">paginate: 5</code> è®¾ç½®çš„æ˜¯åˆ†é¡µæ•°ï¼›
<code class="highlighter-rouge">paginate_path: "/pages:num/"</code> è®¾ç½®çš„æ˜¯URLçš„æ˜¾ç¤ºæ ¼å¼ï¼Œå¦‚ http://localhost:4000/pages2/ã€‚</p>

<p>ï¼ˆ2ï¼‰ç„¶åå‚è€ƒ<a href="https://jekyllrb.com/docs/pagination/">https://jekyllrb.com/docs/pagination/</a>åœ¨<code class="highlighter-rouge">index.html</code>æ·»åŠ åˆ†é¡µåŠŸèƒ½ï¼Œå¹¶ç»“åˆBootstrapé‡Œçš„åˆ†é¡µæ ·å¼ä¿®æ”¹ï¼š<a href="http://getbootstrap.com/components/#pagination">http://getbootstrap.com/components/#pagination</a>ã€‚</p>

<h3 id="æ·»åŠ about-me-è¾¹æ ">æ·»åŠ about me è¾¹æ </h3>

<h3 id="è®¾ç½®å›ºå®šé“¾æ¥">è®¾ç½®å›ºå®šé“¾æ¥</h3>

<h3 id="é¦–é¡µæ·»åŠ æœ€è¿‘æ–‡ç« ">é¦–é¡µæ·»åŠ æœ€è¿‘æ–‡ç« </h3>

<h3 id="é¦–é¡µä¸ºæ¯ç¯‡æ–‡ç« æ·»åŠ åˆ†ç±»æ ‡ç­¾å‘è¡¨æ—¥æœŸä»¥åŠè¯„è®ºè¿æ¥">é¦–é¡µä¸ºæ¯ç¯‡æ–‡ç« æ·»åŠ åˆ†ç±»ã€æ ‡ç­¾ã€å‘è¡¨æ—¥æœŸä»¥åŠè¯„è®ºè¿æ¥</h3>

<h3 id="æ·»åŠ è¿”å›é¡¶éƒ¨åŠŸèƒ½">æ·»åŠ è¿”å›é¡¶éƒ¨åŠŸèƒ½</h3>

<h3 id="æ–‡ç« ç‰ˆæƒè¯´æ˜">æ–‡ç« ç‰ˆæƒè¯´æ˜</h3>

<h3 id="æ·»åŠ 404é¡µé¢">æ·»åŠ 404é¡µé¢</h3>

<h3 id="ä½¿ç”¨å¤šè¯´è¯„è®º">ä½¿ç”¨å¤šè¯´è¯„è®º</h3>

<h3 id="åˆ†ç±»">åˆ†ç±»</h3>

<h3 id="tags">tags</h3>

<h3 id="ç›¸å…³æ–‡ç« ">ç›¸å…³æ–‡ç« </h3>

<h3 id="é¡µé¢å®½åº¦">é¡µé¢å®½åº¦</h3>

<pre><code class="language-text">.container {
    max-width: 970px;
}
</code></pre>

<h3 id="permalinks">Permalinks</h3>

<p>åœ¨<code class="highlighter-rouge">_config.yml</code>ä¸­è®¾ç½®ï¼Œå¦‚ï¼š</p>

<pre><code class="language-text">permalink: /:categories/:year/:month/:day/:title.html
</code></pre>

<h3 id="_configyml-é…ç½®">_config.yml é…ç½®</h3>

<p><code class="highlighter-rouge">_config.yml</code>é‡Œçš„é»˜è®¤é…ç½®å‚è§ï¼šhttps://jekyllrb.com/docs/configuration/#default-configuration</p>

<p>ä¸‹é¢å¯¹è‡ªå·±çš„<code class="highlighter-rouge">_config.yml</code>æ–‡ä»¶ä¸­çš„å†…å®¹åšä¸€äº›è¯´æ˜ï¼š</p>

<pre><code class="language-text">markdown: kramdown
</code></pre>

<p>ä½¿ç”¨<code class="highlighter-rouge">kramdown</code>ä½œä¸ºmarkdownçš„è§£æå™¨ã€‚</p>

<h2 id="extras">Extras</h2>

<h3 id="latexæ”¯æŒ">LaTexæ”¯æŒ</h3>

<p>å‚è€ƒï¼š<a href="https://jekyllrb.com/docs/extras/#math-support">https://jekyllrb.com/docs/extras/#math-support</a></p>

<p>æˆ‘è¿™é‡Œä¸ºäº†é¿å…æ‰€æœ‰pageséƒ½å¼•å…¥mathjaxç›¸å…³jsä»£ç ï¼Œé‡‡ç”¨äº†ä¸åŒçš„è®¾ç½®ï¼š</p>

<p>åœ¨é…ç½®æ–‡ä»¶<code class="highlighter-rouge">_config.yml</code>ä¸­æ·»åŠ ï¼š</p>

<pre><code class="language-text">mathjax: false
</code></pre>

<p>åœ¨<code class="highlighter-rouge">head.html</code>ä¸­æ·»åŠ ï¼š</p>

<p>ç„¶ååœ¨éœ€è¦å¼•å…¥mathjaxçš„mdæ–‡ä»¶å¤´ä¸­åŠ å…¥<code class="highlighter-rouge">mathjax: true</code>ï¼Œå¦‚ï¼š</p>

<pre><code class="language-text">---
layout: post
...
mathjax: true
---
</code></pre>

<h4 id="å•å…¬å¼çš„æ”¯æŒ">å•$å…¬å¼çš„æ”¯æŒ</h4>

<pre><code class="language-text">&lt;script type="text/x-mathjax-config"&gt;
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true,
    }
  });
&lt;/script&gt;
</code></pre>

<h4 id="mathjaxè½¬ä¹‰é—®é¢˜">mathjaxè½¬ä¹‰é—®é¢˜</h4>

<p>è‹¥latexå…¬å¼ä¸­åŒ…å«<code class="highlighter-rouge">|</code>ç¬¦ï¼Œå¦‚<code class="highlighter-rouge">|a|</code>ï¼Œä¼šè¢«markdownè§£æå™¨å½“æˆ<code class="highlighter-rouge">&lt;table&gt;&lt;/table&gt;</code>æ¥å¤„ç†ã€‚</p>

<p>åˆå¦‚ï¼Œå®šä¹‰çŸ©é˜µæ—¶ï¼Œå…¶ä¸­çš„æ¢è¡Œ<code class="highlighter-rouge">\\</code>ä¹Ÿä¼šè¢«è§£æå‡ºé—®é¢˜ï¼ŒæŠŠç¬¬ä¸€ä¸ª<code class="highlighter-rouge">\</code>å½“æˆäº†è½¬ä¹‰ç¬¦ã€‚</p>

<p>è§£å†³æ–¹å¼ï¼š</p>

<p>å¯¹ç¬¬ä¸€ç§æƒ…å†µï¼Œæ ¹æ® <a href="https://kramdown.gettalong.org/syntax.html#math-blocks">Syntax | Kramdown</a> ä¸Šçš„è¯´æ˜ï¼Œå°†<code class="highlighter-rouge">|</code>ç”¨<code class="highlighter-rouge">\vert</code>æ¥ä»£æ›¿ã€‚</p>

<p>å¯¹ç¬¬äºŒç§æƒ…å†µï¼Œç”¨åŒ<code class="highlighter-rouge">$$</code>ç¬¦è§£å†³è½¬ä¹‰é—®é¢˜ã€‚</p>

<h3 id="code-highlighting">Code Highlighting</h3>

<p>Jekyll 3.x è‡ªå¸¦äº†rougeä»£ç é«˜äº®çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸é€ ä¸ºå•¥ä¸€ç›´not workingï¼ˆéš¾é“åˆè¢«çœ‹è„¸äº†ã€‚ã€‚</p>

<p>äºæ˜¯è¿™é‡Œç”¨çš„æ˜¯<a href="https://highlightjs.org/">highlightjs</a>ã€‚åœ¨<code class="highlighter-rouge">head.html</code>é‡Œæ·»åŠ ï¼š</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"/lib/highlight/styles/hybrid.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/lib/highlight/highlight.pack.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span><span class="nx">hljs</span><span class="p">.</span><span class="nx">initHighlightingOnLoad</span><span class="p">();</span><span class="nt">&lt;/script&gt;</span>
</code></pre>
</div>

<p>æˆ‘è¿™é‡ŒæŠŠä¸‹è½½çš„<code class="highlighter-rouge">highlightjs</code>çš„ç›¸å…³æ–‡ä»¶æ”¾åœ¨äº†<code class="highlighter-rouge">lib</code>ç›®å½•ä¸‹ï¼Œæ ·å¼é€‰çš„æ˜¯<code class="highlighter-rouge">hybrid.css</code>ã€‚ï¼ˆmonokai-sublime å’Œ hybrid é…è‰²ä¹Ÿä¸é”™ã€‚ï¼‰</p>

<p><code class="highlighter-rouge">highlightjs</code>ä¼šè§£æå¹¶é«˜äº®<code class="highlighter-rouge">&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;</code>ä¸­çš„å†…å®¹ã€‚å¦‚</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;pre&gt;&lt;code</span> <span class="na">class=</span><span class="s">"html"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</code></pre>
</div>

<p>è‹¥ä¸éœ€è¦é«˜äº®åˆ™è®¾ä¸ºï¼š</p>

<pre><code class="language-nohighlight">&lt;pre&gt;&lt;code class="nohighlight"&gt;...&lt;/code&gt;&lt;/pre&gt;
</code></pre>

<p>è¿™é‡Œæœ‰ä¸ªéº»çƒ¦çš„åœ°æ–¹ï¼Œè‹¥mdé‡Œæ²¡æœ‰æŒ‡æ˜è¯­è¨€ï¼Œ<code class="highlighter-rouge">highlightjs</code>ä¹Ÿä¼šè‡ªåŠ¨æ£€æµ‹æ˜¯ä»€ä¹ˆè¯­è¨€ã€‚å¦‚æœä¸æƒ³å¯¹æŸä¸ªcode blockè¿›è¡Œé«˜äº®ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹å¼ï¼šï¼ˆå½“ç„¶äº†ï¼Œæˆ‘æ¯”è¾ƒæŠ˜è…¾ï¼Œä¸€èˆ¬äººä¹Ÿä¸éœ€è¦è¿™ä¸ªã€‚ã€‚ï¼ˆæ‚è„¸ï¼‰</p>

<p>ï¼ˆ1ï¼‰æ¯æ¬¡æ‰‹åŠ¨åŠ å…¥<code class="highlighter-rouge">nohighlight</code>ã€‚</p>

<pre><code class="language-text">â€‹```nohighlight
xxx
â€‹```
</code></pre>

<p>ï¼ˆ2ï¼‰ä¿®æ”¹markdownè§£æå™¨ã€‚</p>

<p>ç¬¬ä¸€ç§æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼Œä½†<code class="highlighter-rouge">highlightjs</code>åˆæ²¡æœ‰æä¾›å…³é—­<code class="highlighter-rouge">highlightAuto</code>çš„æ¥å£ã€‚</p>

<h3 id="ä¿®æ”¹markdownè§£æå™¨">ä¿®æ”¹markdownè§£æå™¨</h3>

<p>åœ¨<code class="highlighter-rouge">_config.yml</code>ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯<code class="highlighter-rouge">kramdown</code>è§£æå™¨ã€‚</p>

<pre><code class="language-text">markdown: kramdown
</code></pre>

<p>https://jekyllrb.com/docs/configuration/#custom-markdown-processors</p>

<p>å…³äº<a href="https://jekyllrb.com/docs/configuration/#custom-markdown-processors">Custom Markdown Processors</a>å®˜ç½‘æœ‰ä¸€äº›è¯´æ˜ï¼Œå¥½å§ï¼Œæ²¡çœ‹æ‡‚ï¼Œæ¯•ç«Ÿä¸ä¼šRubyã€‚kramdownä¹Ÿä¸èƒ½ä»¥overwritedçš„æ–¹å¼æ”¹å†™ç›¸åº”çš„convertæ–¹æ³•ï¼Œç„¶ååˆå†™äº†æ®µjsä»£ç è¯•å›¾ä¿®æ”¹kramdownè§£æå‡ºçš„htmlï¼Œä½†è¿˜æ˜¯æ²¡æˆåŠŸã€‚çœŸæ˜¯è‰°è¾›ï¼Œç½‘ä¸Šæ‰¾äº†å¥½ä¹…éƒ½æ— æœï¼Œæœ€åè¿˜ä¸å¦‚ç›´æ¥çœ‹ä»£ç æ”¹æ¥å¾—å¿«ã€‚ã€‚ã€‚</p>

<p>å¥½åœ¨<code class="highlighter-rouge">highlightjs</code>æä¾›äº†è¿™ä¸ªï¼š</p>

<pre><code class="language-text">// ignore languages
&lt;script&gt;hljs.configure({ ignore: ['text'] });&lt;/script&gt;
</code></pre>

<p>ç„¶åçœ‹Jekyllæºç ï¼Œæ‰¾åˆ°äº† <code class="highlighter-rouge">jekyll/lib/jekyll/converters/markdown/kramdown_parser.rb</code> (see <a href="https://github.com/jekyll/jekyll/blob/57fd5f887da1189a16bdfbb982d75f725c38d725/lib/jekyll/converters/markdown/kramdown_parser.rb">code</a>)</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
  <span class="no">Kramdown</span><span class="o">::</span><span class="no">Document</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="vi">@config</span><span class="p">).</span><span class="nf">to_html</span>
<span class="k">end</span>
</code></pre>
</div>

<p>æ¥ç€çœ‹kramdownæºç ï¼Œæ‰¾åˆ°äº†<code class="highlighter-rouge">kramdown/lib/kramdown/converter/html.rb</code> (see <a href="https://github.com/gettalong/kramdown/blob/f4cdae257159ce0addf542739fed262e4a2cf401/lib/kramdown/converter/html.rb">code</a>)</p>

<p>åœ¨æˆ‘çš„æœ¬åœ°ç”µè„‘ä¸­ï¼Œç›¸å…³æ–‡ä»¶ä½äº<code class="highlighter-rouge">/usr/local/lib/ruby/gems/2.4.0/gems/kramdown-1.14.0/lib/kramdown/converter/html.rb</code>ã€‚</p>

<p>æ‰¾åˆ°<code class="highlighter-rouge">def convert_codeblock(el, indent)</code>å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼š</p>

<p>åœ¨ä»£ç <code class="highlighter-rouge">code_attr['class'] = "language-#{lang}" if lang</code> å‰æ·»åŠ ï¼š</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">lang</span><span class="p">.</span><span class="nf">nil?</span>
  <span class="n">lang</span> <span class="o">=</span> <span class="s2">"text"</span>
<span class="k">end</span>
</code></pre>
</div>

<p>å¹¶å°†ä»£ç <code class="highlighter-rouge">if highlighted_code</code> æ”¹ä¸º <code class="highlighter-rouge">if highlighted_code &amp;&amp; lang</code>ã€‚</p>

<p>ï¼ˆå…¶ä¸­ï¼Œ<code class="highlighter-rouge">nil</code>æ˜¯åˆ¤ç©ºçš„æ„æ€ã€‚ï¼‰</p>

<p>è¿™æ ·åœ¨ä¸æŒ‡æ˜è¯­è¨€çš„æ—¶å€™ï¼Œä¸é«˜äº®æ˜¾ç¤ºã€‚</p>

<p>æ¥ç€æ”¹ï¼Œ</p>

<p>åœ¨<code class="highlighter-rouge">if highlighted_code &amp;&amp; lang</code>åæ·»åŠ ï¼š</p>

<p>è¿™æ ·å½“è¯­è¨€è®¾ä¸º<code class="highlighter-rouge">auto</code>çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ˜¾ç¤ºé«˜äº®ã€‚</p>

<h2 id="é—®é¢˜">é—®é¢˜</h2>

<p><code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">xxx</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> æˆ–è€… <code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">xxx</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code> æ˜¾ç¤ºä¸å‡ºæ¥ã€‚</p>

<p>è§£å†³æ–¹å¼ï¼š</p>

<p>ï¼ˆ1ï¼‰</p>

<pre><code class="language-text">\{\{ xxx \}\}
</code></pre>

<p>ï¼ˆ2ï¼‰å‚è€ƒï¼š<a href="https://stackoverflow.com/questions/24102498/escaping-double-curly-braces-inside-a-markdown-code-block-in-jekyll">Escaping double curly braces inside a markdown code block in Jekyll</a></p>

<pre><code class="language-text">{% raw %}    
This is a test: {{ xxx }}
{% endraw %}
</code></pre>
<p>ï¼ˆ3ï¼‰é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œå¦‚ä½•æ˜¾ç¤ºä¸Šé¢çš„ raw å’Œ endraw å‘¢ï¼Ÿå‚è€ƒï¼š<a href="http://www.cnblogs.com/OceanHeaven/p/6959669.html">jekyll å¦‚ä½•è½¬ä¹‰å­—ç¬¦</a></p>


  <br><br>

  <footer class="post-meta">
      <div class="post-info">
        <a class="author" href="http://localhost:4000">lszero</a>
        <time class="post-date"><a href="">01 Aug 2017</a></time>
        <a class="category" href="#">ç±»åˆ«</a>
        <a class="comments" href="#">No Comments</a>
      </div>
      <hr />
    </footer>
</article>


<aside class="related">
  <h3>Related Posts</h3>
  <ul class="related-posts">
    
      <li>
        <a href="/algorithm/computational-geometry.html">
          è®¡ç®—å‡ ä½•
          <small><time datetime="2017-04-27T17:16:00+08:00">27 Apr 2017</time></small>
        </a>
      </li>
    
  </ul>
</aside>


        </main>
      </div>
      <footer class="footer">
          <small>
            &copy; <time datetime="2017-08-04T05:23:19+08:00">2017</time>. All rights reserved.
          </small>
        </footer>
    </div>

    

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    
  </body>
</html>
